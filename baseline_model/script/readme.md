#Installation of fairseq-detect-hallucination

Faced quite a few issues during installation of fairseq-detect-hallucination. Tried installing on Windows machine (with GPU) and Apple M1 Pro (without NVIDIA GPU).
1. As per fairseq-detect-hallucination github readme, ensured pre-requisites mentioned on fairseq github readme (https://github.com/facebookresearch/fairseq). Didnt install fairseq as it gets installed in the next step as per fairseq-detect-hallucination readme
2. Couldn't git clone https://github.com/violet-zct/fairseq-detect-hallucination.git, so downloded the repo as zip file and followed instructions.
3. the command "python setup.py build_ext --inplace" needs few more libraries which are not mentioned anywhere above.
	For windows: It additionally needs VC++ 14 build tools and ninja.exe (https://github.com/ninja-build/ninja/releases). Ninja.exe needs to be put in the root folder. 
	For both Windows and Mac: Had to install Cython (pip install Cython). 
The script runs and outputs lot of warnings but at the end says its done. However, it appears that the fairseq doesn't get installed as the util scripts dont find the module. Hence, copied the required util script to the root folder and tried. Need to further install following libraries:
	Uninstall existing numpy if greater than 1.23.5 and install 1.23.5 (pip install numpy==1.23.5)
	Install loss_dropper (pip install -U git+https://github.com/ddkang/loss_dropper.git)
	Install scipy (pip install scipy)
	Install tqdm (pip install tqdm)
	Install regex (pip install regex)
4. Copy eval_sum.py in the root folder


#Execution of eval_sum.py
1. Update the test files (location of files generated by prepare_eval_data.py) on line #9. Value mentioned in test_prefix (line #10) will be 'file' (filename used to read the files)
2. Update model path (downloaded xsum_roberta https://dl.fbaipublicfiles.com/detect-hallucination/xsum.roberta.tar.gz model path) and  datapath (path of "data" folder inside xsum_roberta model folder)
3. Execute the eval_sum script (python eval_sum.py)

##Tip: If using non-GPU machine then comment rober.cuda() on line #77 and roberta.half() on line #79
